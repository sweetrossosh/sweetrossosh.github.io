<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ru">
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<meta name="document-state" content="Static">
		<meta name="generator" content="Geany 1.23.1">
		<meta http-equiv="content-language" content="ru">
		
		<meta name="robots" content="none">
		
		<title>
			Фотографии — торты на заказ (г. Россошь).
		</title>
		
		<link rel="icon" type="image/vnd.microsoft.icon" href="../favicon.ico">
		<link href="http://fonts.googleapis.com/css?family=Oranienbaum&amp;subset=latin,cyrillic" rel="stylesheet" type="text/css">
		<style type="text/css">
			.preloads
			{
				position: fixed;
				left: -1pt;
			}
			.preloads, .preloads img
			{
				width: 1pt;
				height: 1pt;
			}
			body
			{
				background-image: url(bg.png)
			}
			.photo
			{
				position: fixed;
				top: 0;
				left: 0;
				height: 100%;
				width: 100%;
				text-align: center
			}
			#cimg
			{
				position: absolute; 
				margin: auto;
				left: 0;
				top: 0;
				right: 0;
				bottom: 0;
				max-height: 100%;
				max-width: 100%;
				transition: opacity 0.5s linear;
			}
			#num_str
			{
				position: fixed;
				text-align: center;
				width: 100%;
				height: 36pt;
				bottom: 0;
				padding: 0;
				left: 0;
				font: 18pt/18pt 'Oranienbaum', serif;
				background-image: url("../white80.png")
			}
			a
			{
				outline: none;
				transition: color 0.5s;
				color: #2D5BFF;
				text-decoration: underline
			}
			a:hover
			{
				transition: color 0.5s;
				color: red;
				text-decoration: none
			}
			#left, #right
			{
				position: fixed;
				top: 0;
				height: 100%;
				width: 45%;
			}
			#left{ left: 0 }
			#right{ right: 0 }
			.change
			{
				opacity: 0;
				transition: opacity 0.5s linear;
			}
		</style>
	</head>
	<body>
		<div class="preloads">
			<img id="preload1" src="" alt="">
			<img id="preload2" src="" alt="">
			<img src="preload.gif" alt="">
		</div>
		
		<div class="photo">
			<img id="cimg" src="preload.gif" alt="">
		</div>
		<div id="left" onclick="left()"></div>
		<div id="right" onclick="right()"></div>
		<div id="num_str">
			<a href="#" onclick="left(); return false;">&lt;туда</a> <span id="num">0/0</span> <a href="#" onclick="right(); return false;">cюда&gt;</a>
			<br>
			<a href="../">главная</a>
		</div>
		<script type="text/javascript">
			var names = ["../photos/1.jpg", "../photos/2.jpg",
			             "../photos/3.jpg", "../photos/4.jpg",
			             "../photos/5.jpg", "../photos/6.jpg",
			             "../photos/7.jpg", "../photos/8.jpg",
			             "../photos/9.jpg", "../photos/10.jpg",
			             "../photos/11.jpg", "../photos/12.jpg"];
			var current_index = 0;
			
			function right()
			{
				current_index = getNextIndex(current_index, true, names.length);
				refresh(true);
			}
			function left()
			{
				current_index = getNextIndex(current_index, false, names.length);
				refresh(true);
			}
			function getNextIndex(index, positive, len)
			{
				var t = index + (positive?1:-1);
				if (t < 0) t = len - 1;
				if (t >= len) t = 0;
				return t;
			}
			function refresh(anim)
			{
				window.location.hash = (current_index + 1).toString();
				if (anim == true) window.document.getElementById("cimg").classList.add("change");
				var f = function(){
					window.document.getElementById("cimg").src = "";
					window.document.getElementById("cimg").src = "preload.gif"
					window.document.getElementById("cimg").src = names[current_index];
					window.document.getElementById("cimg").alt = "#" + (current_index + 1).toString();
					window.document.getElementById("num").innerHTML = (current_index + 1).toString() + "/" + names.length.toString();
					window.document.getElementById("preload1").src = names[getNextIndex(current_index, true, names.length)].toString();
					window.document.getElementById("preload2").src = names[getNextIndex(current_index, false, names.length)].toString();
					if (anim == true) window.document.getElementById("cimg").classList.remove("change");
				}
				if (anim == true) setTimeout(f, 500);
				else f();
			}
			
			if (window.location.hash.length > 1) current_index = parseInt(window.location.hash.substr(1)) - 1;
			if ((current_index >= 0 && current_index < names.length) == false) current_index = 0;
			refresh(false);
		</script>
		
		<noscript>
			<div style="position: absolute; width: 100%; height: 100%; left: 0; top: 0; background-color: white; text-align: center">
				<p>Для работы каталога требуется включённый <a href="http://www.enable-javascript.com/ru/">javascript</a>!</p>
				<p><a href="../">Главная страница</a></p>
			</div>
		</noscript>
		<!-- Yandex.Metrika counter -->
		<script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript"></script><script type="text/javascript">try { var yaCounter27726921 = new Ya.Metrika({id:27726921}); } catch(e) { }</script><noscript><div><img src="//mc.yandex.ru/watch/27726921" style="position:absolute; left:-9999px;" alt=""></div></noscript>
		<!-- /Yandex.Metrika counter -->
	</body>
</html>
